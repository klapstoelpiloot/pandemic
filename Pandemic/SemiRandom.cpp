#include "SemiRandom.h"

#define ARRAY_LENGTH	1024

static byte randomarray[ARRAY_LENGTH] = { 187, 81, 120, 154, 20, 2, 233, 220, 237, 124, 112, 24, 31, 208, 120, 213,
	148, 145, 138, 230, 211, 229, 8, 11, 30, 108, 186, 229, 234, 185, 18, 144, 234, 219, 52, 108, 229, 175, 74, 36, 61,
	112, 74, 239, 69, 171, 94, 25, 189, 204, 141, 148, 187, 99, 22, 246, 249, 107, 188, 34, 34, 144, 58, 9, 82, 250,
	168, 61, 151, 28, 77, 47, 109, 243, 158, 92, 119, 242, 104, 71, 202, 139, 123, 151, 115, 201, 3, 95, 170, 101, 60,
	121, 12, 60, 65, 169, 128, 126, 87, 139, 54, 99, 187, 212, 246, 254, 59, 246, 228, 129, 105, 165, 114, 189, 234,
	107, 141, 113, 72, 220, 249, 66, 75, 204, 19, 117, 155, 27, 113, 241, 213, 8, 201, 201, 7, 201, 139, 216, 155, 89,
	52, 43, 28, 12, 126, 146, 233, 104, 150, 23, 188, 230, 8, 108, 170, 237, 230, 97, 8, 109, 164, 207, 67, 128, 176,
	250, 192, 144, 62, 133, 224, 65, 196, 126, 111, 79, 35, 206, 115, 177, 72, 45, 60, 115, 247, 207, 66, 52, 249, 248,
	122, 64, 187, 138, 5, 211, 101, 100, 62, 112, 127, 140, 58, 24, 94, 72, 35, 223, 234, 213, 82, 208, 37, 104, 0, 183,
	87, 18, 146, 58, 89, 120, 192, 244, 173, 83, 138, 209, 77, 54, 19, 22, 140, 73, 103, 49, 148, 58, 127, 92, 184, 236,
	207, 102, 118, 56, 208, 227, 253, 134, 224, 145, 93, 252, 46, 250, 193, 21, 36, 200, 213, 207, 71, 20, 112, 236,
	211, 120, 87, 116, 92, 2, 120, 240, 44, 249, 115, 67, 28, 85, 187, 133, 176, 100, 166, 32, 222, 65, 97, 69, 41, 43,
	88, 4, 83, 111, 83, 35, 180, 43, 164, 181, 6, 98, 155, 249, 32, 60, 166, 8, 112, 6, 63, 95, 59, 212, 242, 56, 70,
	159, 61, 139, 61, 123, 222, 226, 183, 217, 175, 104, 144, 241, 186, 89, 244, 76, 108, 140, 6, 227, 187, 99, 169,
	106, 242, 54, 123, 157, 193, 105, 89, 16, 82, 71, 101, 118, 83, 162, 77, 121, 151, 31, 194, 145, 165, 117, 56, 240,
	80, 19, 30, 195, 87, 166, 236, 168, 183, 150, 94, 104, 219, 134, 18, 143, 221, 171, 57, 50, 83, 13, 108, 178, 159,
	189, 181, 230, 94, 180, 84, 245, 198, 149, 177, 105, 100, 141, 102, 131, 166, 19, 57, 121, 67, 93, 246, 131, 34,
	206, 163, 70, 14, 72, 25, 1, 74, 253, 150, 63, 194, 39, 210, 236, 129, 248, 214, 50, 253, 243, 106, 181, 234, 114,
	223, 182, 181, 243, 116, 179, 109, 166, 161, 69, 167, 32, 186, 211, 186, 170, 66, 26, 248, 73, 66, 162, 57, 96, 115,
	205, 165, 63, 254, 214, 129, 78, 17, 78, 184, 183, 66, 72, 103, 246, 26, 245, 87, 63, 13, 196, 251, 175, 127, 83,
	113, 247, 111, 16, 101, 78, 128, 88, 74, 72, 28, 88, 187, 131, 227, 43, 114, 83, 227, 102, 222, 15, 125, 46, 60, 53,
	110, 130, 122, 113, 161, 1, 44, 50, 137, 237, 116, 247, 162, 57, 177, 150, 27, 43, 116, 45, 49, 93, 172, 109, 28,
	108, 115, 69, 141, 224, 179, 219, 140, 252, 83, 196, 184, 8, 10, 120, 123, 48, 173, 224, 131, 97, 90, 165, 226, 69,
	10, 152, 78, 163, 124, 135, 61, 231, 170, 44, 82, 251, 34, 11, 175, 156, 145, 129, 166, 134, 171, 82, 133, 160, 227,
	194, 52, 9, 166, 31, 87, 81, 1, 115, 165, 9, 205, 115, 243, 172, 127, 25, 119, 39, 189, 181, 161, 206, 2, 214, 245,
	51, 12, 33, 166, 77, 45, 121, 16, 84, 119, 244, 57, 3, 129, 57, 112, 66, 248, 96, 204, 207, 149, 240, 152, 84, 174,
	135, 192, 193, 9, 70, 19, 128, 232, 52, 121, 222, 54, 203, 230, 162, 134, 68, 218, 196, 17, 52, 199, 62, 180, 80, 8,
	1, 67, 202, 170, 119, 178, 221, 69, 178, 38, 229, 201, 167, 136, 102, 237, 99, 120, 165, 145, 250, 105, 133, 89, 43,
	72, 244, 63, 87, 203, 96, 158, 83, 103, 199, 74, 31, 143, 214, 43, 211, 95, 2, 254, 112, 192, 104, 52, 236, 181, 63,
	105, 143, 50, 17, 166, 232, 221, 215, 9, 203, 163, 27, 254, 172, 90, 8, 209, 145, 104, 176, 223, 229, 97, 80, 53, 38,
	134, 112, 32, 112, 40, 133, 120, 131, 214, 5, 2, 109, 193, 116, 210, 190, 36, 0, 198, 233, 117, 44, 177, 28, 51, 17,
	160, 169, 80, 115, 107, 234, 92, 231, 98, 6, 168, 222, 240, 138, 245, 87, 249, 239, 45, 243, 208, 238, 126, 245, 23,
	104, 243, 250, 132, 196, 212, 205, 172, 62, 76, 227, 247, 222, 195, 141, 165, 189, 144, 223, 170, 143, 255, 161, 84,
	210, 139, 111, 186, 5, 33, 97, 225, 242, 49, 157, 12, 126, 46, 222, 116, 215, 93, 246, 182, 134, 32, 244, 73, 67,
	143, 63, 10, 234, 195, 166, 214, 22, 234, 34, 223, 35, 90, 144, 112, 209, 182, 68, 222, 96, 61, 143, 184, 229, 114,
	54, 250, 177, 142, 219, 27, 194, 76, 99, 134, 202, 80, 202, 252, 185, 20, 65, 65, 206, 104, 200, 41, 146, 51, 73,
	174, 196, 84, 80, 78, 32, 116, 37, 230, 146, 79, 54, 78, 102, 29, 126, 48, 211, 218, 80, 156, 252, 203, 169, 70, 132,
	26, 65, 119, 170, 106, 95, 109, 53, 171, 186, 165, 196, 4, 122, 203, 121, 145, 152, 29, 17, 225, 173, 103, 64, 44,
	13, 181, 62, 75, 182, 92, 179, 172, 85, 244, 149, 142, 105, 67, 232, 57, 48, 177, 207, 141, 49, 133, 55, 9, 233, 27,
	44, 124, 139, 235, 6, 128, 58, 83, 80, 8, 108, 178, 134, 39, 142, 47, 88, 131, 248, 177, 61, 241, 200, 32, 233, 45,
	210, 163, 66, 100, 161, 218, 178, 113, 235, 80, 63, 131, 4, 186, 173, 164, 115, 56, 133, 122, 102, 185, 97 };

SemiRandom::SemiRandom(int seed) :
	nextbyte(0)
{
	Reset(seed);
}

void SemiRandom::Reset(int seed)
{
	nextbyte = randomarray;
	for(int i = 0; i < seed; i++)
		GetByte();
}

byte SemiRandom::GetByte()
{
	byte b = *nextbyte;
	nextbyte++;
	if(nextbyte >= (randomarray + ARRAY_LENGTH))
		nextbyte = randomarray;
	return b;
}
